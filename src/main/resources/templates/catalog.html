<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title>Каталог</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
          crossorigin="anonymous">
    <!-- из примера Фисунова -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">

    <!-- full path: src\main\resources\static\css -->
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>

<div class="container">

    <header th:replace="fragments/header.html :: header (activePage=${activePage})"/>

    <!-- Карусель с индикаторами и подписями -->
    <!-- https://bootstrap-4.ru/docs/4.3.1/components/carousel/ -->
    <!-- //TODO Временно отключен -->
    <div class="bd-example" style="display: none">
        <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
                <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="..." class="d-block w-100" alt="...">
                    <div class="carousel-caption d-none d-md-block">
                        <h5 class="color-black">First slide label</h5>
                        <p class="color-black">Nulla vitae elit libero, a pharetra augue mollis interdum.</p>
<!--                        <h5 class="color-black" style="color: teal">First slide label</h5>-->
<!--                        <p class="color-black" style="color: teal">Nulla vitae elit libero, a pharetra augue mollis interdum.</p>-->
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="..." class="d-block w-100" alt="...">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Second slide label</h5>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="..." class="d-block w-100" alt="...">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Third slide label</h5>
                        <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur.</p>
                    </div>
                </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
<!--            <a class="carousel-control-prev bg-dark" href="#carouselExampleCaptions" role="button" data-slide="prev">-->
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
<!--            <a class="carousel-control-next bg-dark" href="#carouselExampleCaptions" role="button" data-slide="next">-->
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>

    <!-- блок фильтрации -->
    <form class="filter-form" th:action="@{/catalog/all}" method="GET">
        <div class="input-group">
            <!-- http://localhost:8080/shop/catalog/all?minPrice=11&max_price=19 -->
            <!-- параметр в запросе "minPrice" - это name в input -->
            <!-- чтобы принять сюда значение параметра, должны совпадать названия в th:value="${param.xxx} и в name="xxx" -->
            <input class="form-control" th:value="${param.min_price}" name="min_price" type="number"
                   placeholder="Минимальная цена"/>
            <input class="form-control" th:value="${param.max_price}" name="max_price" type="number"
                   placeholder="Максимальная цена"/>
<!--            <select name="cat_id">-->
<!--                <option th:text="'Не выбрана'" th:value="null"/>-->
<!--                <option th:each="c : ${categories}" th:text="${c.title}" th:selected="${c.id == param.cat_id}"-->
<!--                        th:value="${c.id}"/>-->
<!--            </select>-->
        </div>
<!--        <br>-->
        <button type="submit" class="btn btn-info">Применить</button>
        <a class="btn btn-secondary" th:href="@{'/catalog/all'}">Сбросить</a>
    </form>

    <!-- product cards block-->
    <div class="card-deck">
        <div class="card" th:each="p : ${page}">
            <picture class="card-img-top">
                <a th:href="@{/catalog/{prod_id}/details(prod_id = ${p.id})}">
                            <img src="..." alt="Image of product">
                        </a>
            </picture>

            <div class="card-body">
                <a th:href="@{/catalog/{prod_id}/details(prod_id = ${p.id})}">
                    <h5 class="card-title" th:text="${p.title}">Title of product</h5>
                </a>
            </div>

            <div class="card-footer">
                <small class="price" th:text="${p.price} + ' руб.'">Price of product</small>
            </div>
        </div>
    </div>

    <footer th:replace="fragments/footer.html"/>

</div>

</html>